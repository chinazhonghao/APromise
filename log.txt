
> @ test /Users/hao/Documents/Code/Promise
> promises-aplus-tests promise/promise-interface.js



  2.1.2.1: When fulfilled, a promise: must not transition to any other state.
    1) already-fulfilled
    2) immediately-fulfilled
    3) eventually-fulfilled
    4) trying to fulfill then immediately reject
    5) trying to fulfill then reject, delayed
    6) trying to fulfill immediately then reject delayed

  2.1.3.1: When rejected, a promise: must not transition to any other state.
    7) already-rejected
    8) immediately-rejected
    9) eventually-rejected
    10) trying to reject then immediately fulfill
    11) trying to reject then fulfill, delayed
    12) trying to reject immediately then fulfill delayed

  2.2.1: Both `onFulfilled` and `onRejected` are optional arguments.
    2.2.1.1: If `onFulfilled` is not a function, it must be ignored.
      applied to a directly-rejected promise
        13) `onFulfilled` is `undefined`
        14) `onFulfilled` is `null`
        15) `onFulfilled` is `false`
        16) `onFulfilled` is `5`
        17) `onFulfilled` is an object
      applied to a promise rejected and then chained off of
        18) `onFulfilled` is `undefined`
        19) `onFulfilled` is `null`
        20) `onFulfilled` is `false`
        21) `onFulfilled` is `5`
        22) `onFulfilled` is an object
    2.2.1.2: If `onRejected` is not a function, it must be ignored.
      applied to a directly-fulfilled promise
        23) `onRejected` is `undefined`
        24) `onRejected` is `null`
        25) `onRejected` is `false`
        26) `onRejected` is `5`
        27) `onRejected` is an object
      applied to a promise fulfilled and then chained off of
        28) `onFulfilled` is `undefined`
        29) `onFulfilled` is `null`
        30) `onFulfilled` is `false`
        31) `onFulfilled` is `5`
        32) `onFulfilled` is an object

  2.2.2: If `onFulfilled` is a function,
    2.2.2.1: it must be called after `promise` is fulfilled, with `promise`’s fulfillment value as its first argument.
      33) already-fulfilled
      34) immediately-fulfilled
      35) eventually-fulfilled
    2.2.2.2: it must not be called before `promise` is fulfilled
      36) fulfilled after a delay
      37) never fulfilled
    2.2.2.3: it must not be called more than once.
      38) already-fulfilled
      39) trying to fulfill a pending promise more than once, immediately
      40) trying to fulfill a pending promise more than once, delayed
      41) trying to fulfill a pending promise more than once, immediately then delayed
      42) when multiple `then` calls are made, spaced apart in time
      43) when `then` is interleaved with fulfillment

  2.2.3: If `onRejected` is a function,
    2.2.3.1: it must be called after `promise` is rejected, with `promise`’s rejection reason as its first argument.
      44) already-rejected
      45) immediately-rejected
      46) eventually-rejected
    2.2.3.2: it must not be called before `promise` is rejected
      47) rejected after a delay
      48) never rejected
    2.2.3.3: it must not be called more than once.
      49) already-rejected
      50) trying to reject a pending promise more than once, immediately
      51) trying to reject a pending promise more than once, delayed
      52) trying to reject a pending promise more than once, immediately then delayed
      53) when multiple `then` calls are made, spaced apart in time
      54) when `then` is interleaved with rejection

  2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code.
    `then` returns before the promise becomes fulfilled or rejected
      55) already-fulfilled
      56) immediately-fulfilled
      57) eventually-fulfilled
      58) already-rejected
      59) immediately-rejected
      60) eventually-rejected
    Clean-stack execution ordering tests (fulfillment case)
      61) when `onFulfilled` is added immediately before the promise is fulfilled
      62) when `onFulfilled` is added immediately after the promise is fulfilled
      63) when one `onFulfilled` is added inside another `onFulfilled`
      64) when `onFulfilled` is added inside an `onRejected`
      65) when the promise is fulfilled asynchronously
    Clean-stack execution ordering tests (rejection case)
      66) when `onRejected` is added immediately before the promise is rejected
      67) when `onRejected` is added immediately after the promise is rejected
      68) when `onRejected` is added inside an `onFulfilled`
      69) when one `onRejected` is added inside another `onRejected`
      70) when the promise is rejected asynchronously

  2.2.5 `onFulfilled` and `onRejected` must be called as functions (i.e. with no `this` value).
    strict mode
      71) fulfilled
      72) rejected
    sloppy mode
      73) fulfilled
      74) rejected

  2.2.6: `then` may be called multiple times on the same promise.
    2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`.
      multiple boring fulfillment handlers
        75) already-fulfilled
        76) immediately-fulfilled
        77) eventually-fulfilled
      multiple fulfillment handlers, one of which throws
        78) already-fulfilled
        79) immediately-fulfilled
        80) eventually-fulfilled
      results in multiple branching chains with their own fulfillment values
        81) already-fulfilled
        82) immediately-fulfilled
        83) eventually-fulfilled
      `onFulfilled` handlers are called in the original order
        84) already-fulfilled
        85) immediately-fulfilled
        86) eventually-fulfilled
        even when one handler is added inside another handler
          87) already-fulfilled
          88) immediately-fulfilled
          89) eventually-fulfilled
    2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`.
      multiple boring rejection handlers
        90) already-rejected
        91) immediately-rejected
        92) eventually-rejected
      multiple rejection handlers, one of which throws
        93) already-rejected
        94) immediately-rejected
        95) eventually-rejected
      results in multiple branching chains with their own fulfillment values
        96) already-rejected
        97) immediately-rejected
        98) eventually-rejected
      `onRejected` handlers are called in the original order
        99) already-rejected
        100) immediately-rejected
        101) eventually-rejected
        even when one handler is added inside another handler
          102) already-rejected
          103) immediately-rejected
          104) eventually-rejected

  2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)`
    105) is a promise
    2.2.7.1: If either `onFulfilled` or `onRejected` returns a value `x`, run the Promise Resolution Procedure `[[Resolve]](promise2, x)`
      ✓ see separate 3.3 tests
    2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason.
      The reason is `undefined`
        106) already-fulfilled
        107) immediately-fulfilled
        108) eventually-fulfilled
        109) already-rejected
        110) immediately-rejected
        111) eventually-rejected
      The reason is `null`
        112) already-fulfilled
        113) immediately-fulfilled
        114) eventually-fulfilled
        115) already-rejected
        116) immediately-rejected
        117) eventually-rejected
      The reason is `false`
        118) already-fulfilled
        119) immediately-fulfilled
        120) eventually-fulfilled
        121) already-rejected
        122) immediately-rejected
        123) eventually-rejected
      The reason is `0`
        124) already-fulfilled
        125) immediately-fulfilled
        126) eventually-fulfilled
        127) already-rejected
        128) immediately-rejected
        129) eventually-rejected
      The reason is an error
        130) already-fulfilled
        131) immediately-fulfilled
        132) eventually-fulfilled
        133) already-rejected
        134) immediately-rejected
        135) eventually-rejected
      The reason is an error without a stack
        136) already-fulfilled
        137) immediately-fulfilled
        138) eventually-fulfilled
        139) already-rejected
        140) immediately-rejected
        141) eventually-rejected
      The reason is a date
        142) already-fulfilled
        143) immediately-fulfilled
        144) eventually-fulfilled
        145) already-rejected
        146) immediately-rejected
        147) eventually-rejected
      The reason is an object
        148) already-fulfilled
        149) immediately-fulfilled
        150) eventually-fulfilled
        151) already-rejected
        152) immediately-rejected
        153) eventually-rejected
      The reason is an always-pending thenable
        154) already-fulfilled
        155) immediately-fulfilled
        156) eventually-fulfilled
        157) already-rejected
        158) immediately-rejected
        159) eventually-rejected
      The reason is a fulfilled promise
        160) already-fulfilled
        161) immediately-fulfilled
        162) eventually-fulfilled
        163) already-rejected
        164) immediately-rejected
        165) eventually-rejected
      The reason is a rejected promise
        166) already-fulfilled
        167) immediately-fulfilled
        168) eventually-fulfilled
        169) already-rejected
        170) immediately-rejected
        171) eventually-rejected
    2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value.
      `onFulfilled` is `undefined`
        172) already-fulfilled
        173) immediately-fulfilled
        174) eventually-fulfilled
      `onFulfilled` is `null`
        175) already-fulfilled
        176) immediately-fulfilled
        177) eventually-fulfilled
      `onFulfilled` is `false`
        178) already-fulfilled
        179) immediately-fulfilled
        180) eventually-fulfilled
      `onFulfilled` is `5`
        181) already-fulfilled
        182) immediately-fulfilled
        183) eventually-fulfilled
      `onFulfilled` is an object
        184) already-fulfilled
        185) immediately-fulfilled
        186) eventually-fulfilled
      `onFulfilled` is an array containing a function
        187) already-fulfilled
        188) immediately-fulfilled
        189) eventually-fulfilled
    2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason.
      `onRejected` is `undefined`
        190) already-rejected
        191) immediately-rejected
        192) eventually-rejected
      `onRejected` is `null`
        193) already-rejected
        194) immediately-rejected
        195) eventually-rejected
      `onRejected` is `false`
        196) already-rejected
        197) immediately-rejected
        198) eventually-rejected
      `onRejected` is `5`
        199) already-rejected
        200) immediately-rejected
        201) eventually-rejected
      `onRejected` is an object
        202) already-rejected
        203) immediately-rejected
        204) eventually-rejected
      `onRejected` is an array containing a function
        205) already-rejected
        206) immediately-rejected
        207) eventually-rejected

  2.3.1: If `promise` and `x` refer to the same object, reject `promise` with a `TypeError' as the reason.
    208) via return from a fulfilled promise
    209) via return from a rejected promise

  2.3.2: If `x` is a promise, adopt its state
    2.3.2.1: If `x` is pending, `promise` must remain pending until `x` is fulfilled or rejected.
      210) via return from a fulfilled promise
      211) via return from a rejected promise
    2.3.2.2: If/when `x` is fulfilled, fulfill `promise` with the same value.
      `x` is already-fulfilled
        212) via return from a fulfilled promise
        213) via return from a rejected promise
      `x` is eventually-fulfilled
        214) via return from a fulfilled promise
        215) via return from a rejected promise
    2.3.2.3: If/when `x` is rejected, reject `promise` with the same reason.
      `x` is already-rejected
        216) via return from a fulfilled promise
        217) via return from a rejected promise
      `x` is eventually-rejected
        218) via return from a fulfilled promise
        219) via return from a rejected promise

  2.3.3: Otherwise, if `x` is an object or function,
    2.3.3.1: Let `then` be `x.then`
      `x` is an object with null prototype
        220) via return from a fulfilled promise
        221) via return from a rejected promise
      `x` is an object with normal Object.prototype
        222) via return from a fulfilled promise
        223) via return from a rejected promise
      `x` is a function
        224) via return from a fulfilled promise
        225) via return from a rejected promise
    2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason.
      `e` is `undefined`
        226) via return from a fulfilled promise
        227) via return from a rejected promise
      `e` is `null`
        228) via return from a fulfilled promise
        229) via return from a rejected promise
      `e` is `false`
        230) via return from a fulfilled promise
        231) via return from a rejected promise
      `e` is `0`
        232) via return from a fulfilled promise
        233) via return from a rejected promise
      `e` is an error
        234) via return from a fulfilled promise
        235) via return from a rejected promise
      `e` is an error without a stack
        236) via return from a fulfilled promise
        237) via return from a rejected promise
      `e` is a date
        238) via return from a fulfilled promise
        239) via return from a rejected promise
      `e` is an object
        240) via return from a fulfilled promise
        241) via return from a rejected promise
      `e` is an always-pending thenable
        242) via return from a fulfilled promise
        243) via return from a rejected promise
      `e` is a fulfilled promise
        244) via return from a fulfilled promise
        245) via return from a rejected promise
      `e` is a rejected promise
        246) via return from a fulfilled promise
        247) via return from a rejected promise
    2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise`
      Calls with `x` as `this` and two function arguments
        248) via return from a fulfilled promise
        249) via return from a rejected promise
      Uses the original value of `then`
        250) via return from a fulfilled promise
        251) via return from a rejected promise
      2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)`
        `y` is not a thenable
          `y` is `undefined`
            `then` calls `resolvePromise` synchronously
              252) via return from a fulfilled promise
              253) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              254) via return from a fulfilled promise
              255) via return from a rejected promise
          `y` is `null`
            `then` calls `resolvePromise` synchronously
              256) via return from a fulfilled promise
              257) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              258) via return from a fulfilled promise
              259) via return from a rejected promise
          `y` is `false`
            `then` calls `resolvePromise` synchronously
              260) via return from a fulfilled promise
              261) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              262) via return from a fulfilled promise
              263) via return from a rejected promise
          `y` is `5`
            `then` calls `resolvePromise` synchronously
              264) via return from a fulfilled promise
              265) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              266) via return from a fulfilled promise
              267) via return from a rejected promise
          `y` is an object
            `then` calls `resolvePromise` synchronously
              268) via return from a fulfilled promise
              269) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              270) via return from a fulfilled promise
              271) via return from a rejected promise
          `y` is an array
            `then` calls `resolvePromise` synchronously
              272) via return from a fulfilled promise
              273) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              274) via return from a fulfilled promise
              275) via return from a rejected promise
        `y` is a thenable
          `y` is a synchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              276) via return from a fulfilled promise
              277) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              278) via return from a fulfilled promise
              279) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              280) via return from a fulfilled promise
              281) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              282) via return from a fulfilled promise
              283) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable
            `then` calls `resolvePromise` synchronously
              284) via return from a fulfilled promise
              285) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              286) via return from a fulfilled promise
              287) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice
            `then` calls `resolvePromise` synchronously
              288) via return from a fulfilled promise
              289) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              290) via return from a fulfilled promise
              291) via return from a rejected promise
          `y` is a thenable that fulfills but then throws
            `then` calls `resolvePromise` synchronously
              292) via return from a fulfilled promise
              293) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              294) via return from a fulfilled promise
              295) via return from a rejected promise
          `y` is an already-fulfilled promise
            `then` calls `resolvePromise` synchronously
              296) via return from a fulfilled promise
              297) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              298) via return from a fulfilled promise
              299) via return from a rejected promise
          `y` is an eventually-fulfilled promise
            `then` calls `resolvePromise` synchronously
              300) via return from a fulfilled promise
              301) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              302) via return from a fulfilled promise
              303) via return from a rejected promise
          `y` is a synchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              304) via return from a fulfilled promise
              305) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              306) via return from a fulfilled promise
              307) via return from a rejected promise
          `y` is an asynchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              308) via return from a fulfilled promise
              309) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              310) via return from a fulfilled promise
              311) via return from a rejected promise
          `y` is a synchronously-rejected one-time thenable
            `then` calls `resolvePromise` synchronously
              312) via return from a fulfilled promise
              313) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              314) via return from a fulfilled promise
              315) via return from a rejected promise
          `y` is a thenable that immediately throws in `then`
            `then` calls `resolvePromise` synchronously
              316) via return from a fulfilled promise
              317) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              318) via return from a fulfilled promise
              319) via return from a rejected promise
          `y` is an object with a throwing `then` accessor
            `then` calls `resolvePromise` synchronously
              320) via return from a fulfilled promise
              321) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              322) via return from a fulfilled promise
              323) via return from a rejected promise
          `y` is an already-rejected promise
            `then` calls `resolvePromise` synchronously
              324) via return from a fulfilled promise
              325) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              326) via return from a fulfilled promise
              327) via return from a rejected promise
          `y` is an eventually-rejected promise
            `then` calls `resolvePromise` synchronously
              328) via return from a fulfilled promise
              329) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              330) via return from a fulfilled promise
              331) via return from a rejected promise
        `y` is a thenable for a thenable
          `y` is a synchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              332) via return from a fulfilled promise
              333) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              334) via return from a fulfilled promise
              335) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              336) via return from a fulfilled promise
              337) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              338) via return from a fulfilled promise
              339) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable
            `then` calls `resolvePromise` synchronously
              340) via return from a fulfilled promise
              341) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              342) via return from a fulfilled promise
              343) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for a thenable that tries to fulfill twice
            `then` calls `resolvePromise` synchronously
              344) via return from a fulfilled promise
              345) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              346) via return from a fulfilled promise
              347) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for a thenable that fulfills but then throws
            `then` calls `resolvePromise` synchronously
              348) via return from a fulfilled promise
              349) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              350) via return from a fulfilled promise
              351) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for an already-fulfilled promise
            `then` calls `resolvePromise` synchronously
              352) via return from a fulfilled promise
              353) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              354) via return from a fulfilled promise
              355) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for an eventually-fulfilled promise
            `then` calls `resolvePromise` synchronously
              356) via return from a fulfilled promise
              357) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              358) via return from a fulfilled promise
              359) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for a synchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              360) via return from a fulfilled promise
              361) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              362) via return from a fulfilled promise
              363) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              364) via return from a fulfilled promise
              365) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              366) via return from a fulfilled promise
              367) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable
            `then` calls `resolvePromise` synchronously
              368) via return from a fulfilled promise
              369) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              370) via return from a fulfilled promise
              371) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for a thenable that immediately throws in `then`
            `then` calls `resolvePromise` synchronously
              372) via return from a fulfilled promise
              373) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              374) via return from a fulfilled promise
              375) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for an object with a throwing `then` accessor
            `then` calls `resolvePromise` synchronously
              376) via return from a fulfilled promise
              377) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              378) via return from a fulfilled promise
              379) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for an already-rejected promise
            `then` calls `resolvePromise` synchronously
              380) via return from a fulfilled promise
              381) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              382) via return from a fulfilled promise
              383) via return from a rejected promise
          `y` is a synchronously-fulfilled custom thenable for an eventually-rejected promise
            `then` calls `resolvePromise` synchronously
              384) via return from a fulfilled promise
              385) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              386) via return from a fulfilled promise
              387) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              388) via return from a fulfilled promise
              389) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              390) via return from a fulfilled promise
              391) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              392) via return from a fulfilled promise
              393) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              394) via return from a fulfilled promise
              395) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable
            `then` calls `resolvePromise` synchronously
              396) via return from a fulfilled promise
              397) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              398) via return from a fulfilled promise
              399) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for a thenable that tries to fulfill twice
            `then` calls `resolvePromise` synchronously
              400) via return from a fulfilled promise
              401) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              402) via return from a fulfilled promise
              403) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for a thenable that fulfills but then throws
            `then` calls `resolvePromise` synchronously
              404) via return from a fulfilled promise
              405) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              406) via return from a fulfilled promise
              407) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for an already-fulfilled promise
            `then` calls `resolvePromise` synchronously
              408) via return from a fulfilled promise
              409) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              410) via return from a fulfilled promise
              411) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for an eventually-fulfilled promise
            `then` calls `resolvePromise` synchronously
              412) via return from a fulfilled promise
              413) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              414) via return from a fulfilled promise
              415) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for a synchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              416) via return from a fulfilled promise
              417) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              418) via return from a fulfilled promise
              419) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              420) via return from a fulfilled promise
              421) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              422) via return from a fulfilled promise
              423) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable
            `then` calls `resolvePromise` synchronously
              424) via return from a fulfilled promise
              425) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              426) via return from a fulfilled promise
              427) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for a thenable that immediately throws in `then`
            `then` calls `resolvePromise` synchronously
              428) via return from a fulfilled promise
              429) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              430) via return from a fulfilled promise
              431) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for an object with a throwing `then` accessor
            `then` calls `resolvePromise` synchronously
              432) via return from a fulfilled promise
              433) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              434) via return from a fulfilled promise
              435) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for an already-rejected promise
            `then` calls `resolvePromise` synchronously
              436) via return from a fulfilled promise
              437) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              438) via return from a fulfilled promise
              439) via return from a rejected promise
          `y` is an asynchronously-fulfilled custom thenable for an eventually-rejected promise
            `then` calls `resolvePromise` synchronously
              440) via return from a fulfilled promise
              441) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              442) via return from a fulfilled promise
              443) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              444) via return from a fulfilled promise
              445) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              446) via return from a fulfilled promise
              447) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for an asynchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              448) via return from a fulfilled promise
              449) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              450) via return from a fulfilled promise
              451) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled one-time thenable
            `then` calls `resolvePromise` synchronously
              452) via return from a fulfilled promise
              453) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              454) via return from a fulfilled promise
              455) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for a thenable that tries to fulfill twice
            `then` calls `resolvePromise` synchronously
              456) via return from a fulfilled promise
              457) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              458) via return from a fulfilled promise
              459) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for a thenable that fulfills but then throws
            `then` calls `resolvePromise` synchronously
              460) via return from a fulfilled promise
              461) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              462) via return from a fulfilled promise
              463) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for an already-fulfilled promise
            `then` calls `resolvePromise` synchronously
              464) via return from a fulfilled promise
              465) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              466) via return from a fulfilled promise
              467) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for an eventually-fulfilled promise
            `then` calls `resolvePromise` synchronously
              468) via return from a fulfilled promise
              469) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              470) via return from a fulfilled promise
              471) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for a synchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              472) via return from a fulfilled promise
              473) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              474) via return from a fulfilled promise
              475) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for an asynchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              476) via return from a fulfilled promise
              477) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              478) via return from a fulfilled promise
              479) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for a synchronously-rejected one-time thenable
            `then` calls `resolvePromise` synchronously
              480) via return from a fulfilled promise
              481) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              482) via return from a fulfilled promise
              483) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for a thenable that immediately throws in `then`
            `then` calls `resolvePromise` synchronously
              484) via return from a fulfilled promise
              485) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              486) via return from a fulfilled promise
              487) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for an object with a throwing `then` accessor
            `then` calls `resolvePromise` synchronously
              488) via return from a fulfilled promise
              489) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              490) via return from a fulfilled promise
              491) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for an already-rejected promise
            `then` calls `resolvePromise` synchronously
              492) via return from a fulfilled promise
              493) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              494) via return from a fulfilled promise
              495) via return from a rejected promise
          `y` is a synchronously-fulfilled one-time thenable for an eventually-rejected promise
            `then` calls `resolvePromise` synchronously
              496) via return from a fulfilled promise
              497) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              498) via return from a fulfilled promise
              499) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for a synchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              500) via return from a fulfilled promise
              501) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              502) via return from a fulfilled promise
              503) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for an asynchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              504) via return from a fulfilled promise
              505) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              506) via return from a fulfilled promise
              507) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for a synchronously-fulfilled one-time thenable
            `then` calls `resolvePromise` synchronously
              508) via return from a fulfilled promise
              509) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              510) via return from a fulfilled promise
              511) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for a thenable that tries to fulfill twice
            `then` calls `resolvePromise` synchronously
              512) via return from a fulfilled promise
              513) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              514) via return from a fulfilled promise
              515) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for a thenable that fulfills but then throws
            `then` calls `resolvePromise` synchronously
              516) via return from a fulfilled promise
              517) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              518) via return from a fulfilled promise
              519) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for an already-fulfilled promise
            `then` calls `resolvePromise` synchronously
              520) via return from a fulfilled promise
              521) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              522) via return from a fulfilled promise
              523) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for an eventually-fulfilled promise
            `then` calls `resolvePromise` synchronously
              524) via return from a fulfilled promise
              525) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              526) via return from a fulfilled promise
              527) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for a synchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              528) via return from a fulfilled promise
              529) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              530) via return from a fulfilled promise
              531) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for an asynchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              532) via return from a fulfilled promise
              533) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              534) via return from a fulfilled promise
              535) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for a synchronously-rejected one-time thenable
            `then` calls `resolvePromise` synchronously
              536) via return from a fulfilled promise
              537) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              538) via return from a fulfilled promise
              539) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for a thenable that immediately throws in `then`
            `then` calls `resolvePromise` synchronously
              540) via return from a fulfilled promise
              541) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              542) via return from a fulfilled promise
              543) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for an object with a throwing `then` accessor
            `then` calls `resolvePromise` synchronously
              544) via return from a fulfilled promise
              545) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              546) via return from a fulfilled promise
              547) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for an already-rejected promise
            `then` calls `resolvePromise` synchronously
              548) via return from a fulfilled promise
              549) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              550) via return from a fulfilled promise
              551) via return from a rejected promise
          `y` is a thenable that tries to fulfill twice for an eventually-rejected promise
            `then` calls `resolvePromise` synchronously
              552) via return from a fulfilled promise
              553) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              554) via return from a fulfilled promise
              555) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for a synchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              556) via return from a fulfilled promise
              557) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              558) via return from a fulfilled promise
              559) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for an asynchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              560) via return from a fulfilled promise
              561) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              562) via return from a fulfilled promise
              563) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for a synchronously-fulfilled one-time thenable
            `then` calls `resolvePromise` synchronously
              564) via return from a fulfilled promise
              565) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              566) via return from a fulfilled promise
              567) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for a thenable that tries to fulfill twice
            `then` calls `resolvePromise` synchronously
              568) via return from a fulfilled promise
              569) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              570) via return from a fulfilled promise
              571) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for a thenable that fulfills but then throws
            `then` calls `resolvePromise` synchronously
              572) via return from a fulfilled promise
              573) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              574) via return from a fulfilled promise
              575) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for an already-fulfilled promise
            `then` calls `resolvePromise` synchronously
              576) via return from a fulfilled promise
              577) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              578) via return from a fulfilled promise
              579) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for an eventually-fulfilled promise
            `then` calls `resolvePromise` synchronously
              580) via return from a fulfilled promise
              581) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              582) via return from a fulfilled promise
              583) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for a synchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              584) via return from a fulfilled promise
              585) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              586) via return from a fulfilled promise
              587) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for an asynchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              588) via return from a fulfilled promise
              589) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              590) via return from a fulfilled promise
              591) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for a synchronously-rejected one-time thenable
            `then` calls `resolvePromise` synchronously
              592) via return from a fulfilled promise
              593) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              594) via return from a fulfilled promise
              595) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for a thenable that immediately throws in `then`
            `then` calls `resolvePromise` synchronously
              596) via return from a fulfilled promise
              597) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              598) via return from a fulfilled promise
              599) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for an object with a throwing `then` accessor
            `then` calls `resolvePromise` synchronously
              600) via return from a fulfilled promise
              601) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              602) via return from a fulfilled promise
              603) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for an already-rejected promise
            `then` calls `resolvePromise` synchronously
              604) via return from a fulfilled promise
              605) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              606) via return from a fulfilled promise
              607) via return from a rejected promise
          `y` is a thenable that fulfills but then throws for an eventually-rejected promise
            `then` calls `resolvePromise` synchronously
              608) via return from a fulfilled promise
              609) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              610) via return from a fulfilled promise
              611) via return from a rejected promise
          `y` is an already-fulfilled promise for a synchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              612) via return from a fulfilled promise
              613) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              614) via return from a fulfilled promise
              615) via return from a rejected promise
          `y` is an already-fulfilled promise for an asynchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              616) via return from a fulfilled promise
              617) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              618) via return from a fulfilled promise
              619) via return from a rejected promise
          `y` is an already-fulfilled promise for a synchronously-fulfilled one-time thenable
            `then` calls `resolvePromise` synchronously
              620) via return from a fulfilled promise
              621) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              622) via return from a fulfilled promise
              623) via return from a rejected promise
          `y` is an already-fulfilled promise for a thenable that tries to fulfill twice
            `then` calls `resolvePromise` synchronously
              624) via return from a fulfilled promise
              625) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              626) via return from a fulfilled promise
              627) via return from a rejected promise
          `y` is an already-fulfilled promise for a thenable that fulfills but then throws
            `then` calls `resolvePromise` synchronously
              628) via return from a fulfilled promise
              629) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              630) via return from a fulfilled promise
              631) via return from a rejected promise
          `y` is an already-fulfilled promise for an already-fulfilled promise
            `then` calls `resolvePromise` synchronously
              632) via return from a fulfilled promise
              633) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              634) via return from a fulfilled promise
              635) via return from a rejected promise
          `y` is an already-fulfilled promise for an eventually-fulfilled promise
            `then` calls `resolvePromise` synchronously
              636) via return from a fulfilled promise
              637) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              638) via return from a fulfilled promise
              639) via return from a rejected promise
          `y` is an already-fulfilled promise for a synchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              640) via return from a fulfilled promise
              641) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              642) via return from a fulfilled promise
              643) via return from a rejected promise
          `y` is an already-fulfilled promise for an asynchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              644) via return from a fulfilled promise
              645) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              646) via return from a fulfilled promise
              647) via return from a rejected promise
          `y` is an already-fulfilled promise for a synchronously-rejected one-time thenable
            `then` calls `resolvePromise` synchronously
              648) via return from a fulfilled promise
              649) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              650) via return from a fulfilled promise
              651) via return from a rejected promise
          `y` is an already-fulfilled promise for a thenable that immediately throws in `then`
            `then` calls `resolvePromise` synchronously
              652) via return from a fulfilled promise
              653) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              654) via return from a fulfilled promise
              655) via return from a rejected promise
          `y` is an already-fulfilled promise for an object with a throwing `then` accessor
            `then` calls `resolvePromise` synchronously
              656) via return from a fulfilled promise
              657) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              658) via return from a fulfilled promise
              659) via return from a rejected promise
          `y` is an already-fulfilled promise for an already-rejected promise
            `then` calls `resolvePromise` synchronously
              660) via return from a fulfilled promise
              661) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              662) via return from a fulfilled promise
              663) via return from a rejected promise
          `y` is an already-fulfilled promise for an eventually-rejected promise
            `then` calls `resolvePromise` synchronously
              664) via return from a fulfilled promise
              665) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              666) via return from a fulfilled promise
              667) via return from a rejected promise
          `y` is an eventually-fulfilled promise for a synchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              668) via return from a fulfilled promise
              669) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              670) via return from a fulfilled promise
              671) via return from a rejected promise
          `y` is an eventually-fulfilled promise for an asynchronously-fulfilled custom thenable
            `then` calls `resolvePromise` synchronously
              672) via return from a fulfilled promise
              673) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              674) via return from a fulfilled promise
              675) via return from a rejected promise
          `y` is an eventually-fulfilled promise for a synchronously-fulfilled one-time thenable
            `then` calls `resolvePromise` synchronously
              676) via return from a fulfilled promise
              677) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              678) via return from a fulfilled promise
              679) via return from a rejected promise
          `y` is an eventually-fulfilled promise for a thenable that tries to fulfill twice
            `then` calls `resolvePromise` synchronously
              680) via return from a fulfilled promise
              681) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              682) via return from a fulfilled promise
              683) via return from a rejected promise
          `y` is an eventually-fulfilled promise for a thenable that fulfills but then throws
            `then` calls `resolvePromise` synchronously
              684) via return from a fulfilled promise
              685) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              686) via return from a fulfilled promise
              687) via return from a rejected promise
          `y` is an eventually-fulfilled promise for an already-fulfilled promise
            `then` calls `resolvePromise` synchronously
              688) via return from a fulfilled promise
              689) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              690) via return from a fulfilled promise
              691) via return from a rejected promise
          `y` is an eventually-fulfilled promise for an eventually-fulfilled promise
            `then` calls `resolvePromise` synchronously
              692) via return from a fulfilled promise
              693) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              694) via return from a fulfilled promise
              695) via return from a rejected promise
          `y` is an eventually-fulfilled promise for a synchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              696) via return from a fulfilled promise
              697) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              698) via return from a fulfilled promise
              699) via return from a rejected promise
          `y` is an eventually-fulfilled promise for an asynchronously-rejected custom thenable
            `then` calls `resolvePromise` synchronously
              700) via return from a fulfilled promise
              701) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              702) via return from a fulfilled promise
              703) via return from a rejected promise
          `y` is an eventually-fulfilled promise for a synchronously-rejected one-time thenable
            `then` calls `resolvePromise` synchronously
              704) via return from a fulfilled promise
              705) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              706) via return from a fulfilled promise
              707) via return from a rejected promise
          `y` is an eventually-fulfilled promise for a thenable that immediately throws in `then`
            `then` calls `resolvePromise` synchronously
              708) via return from a fulfilled promise
              709) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              710) via return from a fulfilled promise
              711) via return from a rejected promise
          `y` is an eventually-fulfilled promise for an object with a throwing `then` accessor
            `then` calls `resolvePromise` synchronously
              712) via return from a fulfilled promise
              713) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              714) via return from a fulfilled promise
              715) via return from a rejected promise
          `y` is an eventually-fulfilled promise for an already-rejected promise
            `then` calls `resolvePromise` synchronously
              716) via return from a fulfilled promise
              717) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              718) via return from a fulfilled promise
              719) via return from a rejected promise
          `y` is an eventually-fulfilled promise for an eventually-rejected promise
            `then` calls `resolvePromise` synchronously
              720) via return from a fulfilled promise
              721) via return from a rejected promise
            `then` calls `resolvePromise` asynchronously
              722) via return from a fulfilled promise
              723) via return from a rejected promise
      2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r`
        `r` is `undefined`
          `then` calls `rejectPromise` synchronously
            724) via return from a fulfilled promise
            725) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            726) via return from a fulfilled promise
            727) via return from a rejected promise
        `r` is `null`
          `then` calls `rejectPromise` synchronously
            728) via return from a fulfilled promise
            729) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            730) via return from a fulfilled promise
            731) via return from a rejected promise
        `r` is `false`
          `then` calls `rejectPromise` synchronously
            732) via return from a fulfilled promise
            733) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            734) via return from a fulfilled promise
            735) via return from a rejected promise
        `r` is `0`
          `then` calls `rejectPromise` synchronously
            736) via return from a fulfilled promise
            737) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            738) via return from a fulfilled promise
            739) via return from a rejected promise
        `r` is an error
          `then` calls `rejectPromise` synchronously
            740) via return from a fulfilled promise
            741) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            742) via return from a fulfilled promise
            743) via return from a rejected promise
        `r` is an error without a stack
          `then` calls `rejectPromise` synchronously
            744) via return from a fulfilled promise
            745) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            746) via return from a fulfilled promise
            747) via return from a rejected promise
        `r` is a date
          `then` calls `rejectPromise` synchronously
            748) via return from a fulfilled promise
            749) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            750) via return from a fulfilled promise
            751) via return from a rejected promise
        `r` is an object
          `then` calls `rejectPromise` synchronously
            752) via return from a fulfilled promise
            753) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            754) via return from a fulfilled promise
            755) via return from a rejected promise
        `r` is an always-pending thenable
          `then` calls `rejectPromise` synchronously
            756) via return from a fulfilled promise
            757) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            758) via return from a fulfilled promise
            759) via return from a rejected promise
        `r` is a fulfilled promise
          `then` calls `rejectPromise` synchronously
            760) via return from a fulfilled promise
            761) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            762) via return from a fulfilled promise
            763) via return from a rejected promise
        `r` is a rejected promise
          `then` calls `rejectPromise` synchronously
            764) via return from a fulfilled promise
            765) via return from a rejected promise
          `then` calls `rejectPromise` asynchronously
            766) via return from a fulfilled promise
            767) via return from a rejected promise
      2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored.
        calling `resolvePromise` then `rejectPromise`, both synchronously
          768) via return from a fulfilled promise
          769) via return from a rejected promise
        calling `resolvePromise` synchronously then `rejectPromise` asynchronously
          770) via return from a fulfilled promise
          771) via return from a rejected promise
        calling `resolvePromise` then `rejectPromise`, both asynchronously
          772) via return from a fulfilled promise
          773) via return from a rejected promise
        calling `resolvePromise` with an asynchronously-fulfilled promise, then calling `rejectPromise`, both synchronously
          774) via return from a fulfilled promise
          775) via return from a rejected promise
        calling `resolvePromise` with an asynchronously-rejected promise, then calling `rejectPromise`, both synchronously
          776) via return from a fulfilled promise
          777) via return from a rejected promise
        calling `rejectPromise` then `resolvePromise`, both synchronously
          778) via return from a fulfilled promise
          779) via return from a rejected promise
        calling `rejectPromise` synchronously then `resolvePromise` asynchronously
          780) via return from a fulfilled promise
          781) via return from a rejected promise
        calling `rejectPromise` then `resolvePromise`, both asynchronously
          782) via return from a fulfilled promise
          783) via return from a rejected promise
        calling `resolvePromise` twice synchronously
          784) via return from a fulfilled promise
          785) via return from a rejected promise
        calling `resolvePromise` twice, first synchronously then asynchronously
          786) via return from a fulfilled promise
          787) via return from a rejected promise
        calling `resolvePromise` twice, both times asynchronously
          788) via return from a fulfilled promise
          789) via return from a rejected promise
        calling `resolvePromise` with an asynchronously-fulfilled promise, then calling it again, both times synchronously
          790) via return from a fulfilled promise
          791) via return from a rejected promise
        calling `resolvePromise` with an asynchronously-rejected promise, then calling it again, both times synchronously
          792) via return from a fulfilled promise
          793) via return from a rejected promise
        calling `rejectPromise` twice synchronously
          794) via return from a fulfilled promise
          795) via return from a rejected promise
        calling `rejectPromise` twice, first synchronously then asynchronously
          796) via return from a fulfilled promise
          797) via return from a rejected promise
        calling `rejectPromise` twice, both times asynchronously
          798) via return from a fulfilled promise
          799) via return from a rejected promise
        saving and abusing `resolvePromise` and `rejectPromise`
          800) via return from a fulfilled promise
          801) via return from a rejected promise
      2.3.3.3.4: If calling `then` throws an exception `e`,
        2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it.
          `resolvePromise` was called with a non-thenable
            802) via return from a fulfilled promise
            803) via return from a rejected promise
          `resolvePromise` was called with an asynchronously-fulfilled promise
            804) via return from a fulfilled promise
            805) via return from a rejected promise
          `resolvePromise` was called with an asynchronously-rejected promise
            806) via return from a fulfilled promise
            807) via return from a rejected promise
          `rejectPromise` was called
            808) via return from a fulfilled promise
            809) via return from a rejected promise
          `resolvePromise` then `rejectPromise` were called
            810) via return from a fulfilled promise
            811) via return from a rejected promise
          `rejectPromise` then `resolvePromise` were called
            812) via return from a fulfilled promise
            813) via return from a rejected promise
        2.3.3.3.4.2: Otherwise, reject `promise` with `e` as the reason.
          straightforward case
            814) via return from a fulfilled promise
            815) via return from a rejected promise
          `resolvePromise` is called asynchronously before the `throw`
            816) via return from a fulfilled promise
            817) via return from a rejected promise
          `rejectPromise` is called asynchronously before the `throw`
            818) via return from a fulfilled promise
            819) via return from a rejected promise
    2.3.3.4: If `then` is not a function, fulfill promise with `x`
      `then` is `5`
        820) via return from a fulfilled promise
        821) via return from a rejected promise
      `then` is an object
        822) via return from a fulfilled promise
        823) via return from a rejected promise
      `then` is an array containing a function
        824) via return from a fulfilled promise
        825) via return from a rejected promise
      `then` is a regular expression
        826) via return from a fulfilled promise
        827) via return from a rejected promise
      `then` is an object inheriting from `Function.prototype`
        828) via return from a fulfilled promise
        829) via return from a rejected promise

  2.3.4: If `x` is not an object or function, fulfill `promise` with `x`
    The value is `undefined`
      830) already-fulfilled
      831) immediately-fulfilled
      832) eventually-fulfilled
      833) already-rejected
      834) immediately-rejected
      835) eventually-rejected
    The value is `null`
      836) already-fulfilled
      837) immediately-fulfilled
      838) eventually-fulfilled
      839) already-rejected
      840) immediately-rejected
      841) eventually-rejected
    The value is `false`
      842) already-fulfilled
      843) immediately-fulfilled
      844) eventually-fulfilled
      845) already-rejected
      846) immediately-rejected
      847) eventually-rejected
    The value is `true`
      848) already-fulfilled
      849) immediately-fulfilled
      850) eventually-fulfilled
      851) already-rejected
      852) immediately-rejected
      853) eventually-rejected
    The value is `0`
      854) already-fulfilled
      855) immediately-fulfilled
      856) eventually-fulfilled
      857) already-rejected
      858) immediately-rejected
      859) eventually-rejected
    The value is `true` with `Boolean.prototype` modified to have a `then` method
      860) already-fulfilled
      861) immediately-fulfilled
      862) eventually-fulfilled
      863) already-rejected
      864) immediately-rejected
      865) eventually-rejected
    The value is `1` with `Number.prototype` modified to have a `then` method
      866) already-fulfilled
      867) immediately-fulfilled
      868) eventually-fulfilled
      869) already-rejected
      870) immediately-rejected
      871) eventually-rejected


  1 passing (40s)
  871 failing

  1) 2.1.2.1: When fulfilled, a promise: must not transition to any other state. already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.1.2.js:15:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  2) 2.1.2.1: When fulfilled, a promise: must not transition to any other state. immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  3) 2.1.2.1: When fulfilled, a promise: must not transition to any other state. eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  4) 2.1.2.1: When fulfilled, a promise: must not transition to any other state. trying to fulfill then immediately reject:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.1.2.js:26:17)

  5) 2.1.2.1: When fulfilled, a promise: must not transition to any other state. trying to fulfill then reject, delayed:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.1.2.js:42:17)

  6) 2.1.2.1: When fulfilled, a promise: must not transition to any other state. trying to fulfill immediately then reject delayed:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.1.2.js:60:17)

  7) 2.1.3.1: When rejected, a promise: must not transition to any other state. already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.1.3.js:15:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  8) 2.1.3.1: When rejected, a promise: must not transition to any other state. immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  9) 2.1.3.1: When rejected, a promise: must not transition to any other state. eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  10) 2.1.3.1: When rejected, a promise: must not transition to any other state. trying to reject then immediately fulfill:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.1.3.js:26:17)

  11) 2.1.3.1: When rejected, a promise: must not transition to any other state. trying to reject then fulfill, delayed:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.1.3.js:42:17)

  12) 2.1.3.1: When rejected, a promise: must not transition to any other state. trying to reject immediately then fulfill delayed:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.1.3.js:60:17)

  13) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.1: If `onFulfilled` is not a function, it must be ignored. applied to a directly-rejected promise `onFulfilled` is `undefined`:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  14) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.1: If `onFulfilled` is not a function, it must be ignored. applied to a directly-rejected promise `onFulfilled` is `null`:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  15) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.1: If `onFulfilled` is not a function, it must be ignored. applied to a directly-rejected promise `onFulfilled` is `false`:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  16) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.1: If `onFulfilled` is not a function, it must be ignored. applied to a directly-rejected promise `onFulfilled` is `5`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:14:37)

  17) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.1: If `onFulfilled` is not a function, it must be ignored. applied to a directly-rejected promise `onFulfilled` is an object:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:14:37)

  18) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.1: If `onFulfilled` is not a function, it must be ignored. applied to a promise rejected and then chained off of `onFulfilled` is `undefined`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:30:37)

  19) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.1: If `onFulfilled` is not a function, it must be ignored. applied to a promise rejected and then chained off of `onFulfilled` is `null`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:30:37)

  20) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.1: If `onFulfilled` is not a function, it must be ignored. applied to a promise rejected and then chained off of `onFulfilled` is `false`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:30:37)

  21) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.1: If `onFulfilled` is not a function, it must be ignored. applied to a promise rejected and then chained off of `onFulfilled` is `5`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:30:37)

  22) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.1: If `onFulfilled` is not a function, it must be ignored. applied to a promise rejected and then chained off of `onFulfilled` is an object:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:30:37)

  23) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.2: If `onRejected` is not a function, it must be ignored. applied to a directly-fulfilled promise `onRejected` is `undefined`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:48:37)

  24) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.2: If `onRejected` is not a function, it must be ignored. applied to a directly-fulfilled promise `onRejected` is `null`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:48:37)

  25) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.2: If `onRejected` is not a function, it must be ignored. applied to a directly-fulfilled promise `onRejected` is `false`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:48:37)

  26) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.2: If `onRejected` is not a function, it must be ignored. applied to a directly-fulfilled promise `onRejected` is `5`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:48:37)

  27) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.2: If `onRejected` is not a function, it must be ignored. applied to a directly-fulfilled promise `onRejected` is an object:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:48:37)

  28) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.2: If `onRejected` is not a function, it must be ignored. applied to a promise fulfilled and then chained off of `onFulfilled` is `undefined`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:64:70)

  29) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.2: If `onRejected` is not a function, it must be ignored. applied to a promise fulfilled and then chained off of `onFulfilled` is `null`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:64:70)

  30) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.2: If `onRejected` is not a function, it must be ignored. applied to a promise fulfilled and then chained off of `onFulfilled` is `false`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:64:70)

  31) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.2: If `onRejected` is not a function, it must be ignored. applied to a promise fulfilled and then chained off of `onFulfilled` is `5`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:64:70)

  32) 2.2.1: Both `onFulfilled` and `onRejected` are optional arguments. 2.2.1.2: If `onRejected` is not a function, it must be ignored. applied to a promise fulfilled and then chained off of `onFulfilled` is an object:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.1.js:64:70)

  33) 2.2.2: If `onFulfilled` is a function, 2.2.2.1: it must be called after `promise` is fulfilled, with `promise`’s fulfillment value as its first argument. already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.2.js:17:21
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  34) 2.2.2: If `onFulfilled` is a function, 2.2.2.1: it must be called after `promise` is fulfilled, with `promise`’s fulfillment value as its first argument. immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  35) 2.2.2: If `onFulfilled` is a function, 2.2.2.1: it must be called after `promise` is fulfilled, with `promise`’s fulfillment value as its first argument. eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  36) 2.2.2: If `onFulfilled` is a function, 2.2.2.2: it must not be called before `promise` is fulfilled fulfilled after a delay:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.2.js:26:21)

  37) 2.2.2: If `onFulfilled` is a function, 2.2.2.2: it must not be called before `promise` is fulfilled never fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.2.js:41:21)

  38) 2.2.2: If `onFulfilled` is a function, 2.2.2.3: it must not be called more than once. already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.2.js:60:29)

  39) 2.2.2: If `onFulfilled` is a function, 2.2.2.3: it must not be called more than once. trying to fulfill a pending promise more than once, immediately:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.2.js:67:21)

  40) 2.2.2: If `onFulfilled` is a function, 2.2.2.3: it must not be called more than once. trying to fulfill a pending promise more than once, delayed:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.2.js:80:21)

  41) 2.2.2: If `onFulfilled` is a function, 2.2.2.3: it must not be called more than once. trying to fulfill a pending promise more than once, immediately then delayed:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.2.js:95:21)

  42) 2.2.2: If `onFulfilled` is a function, 2.2.2.3: it must not be called more than once. when multiple `then` calls are made, spaced apart in time:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.2.js:110:21)

  43) 2.2.2: If `onFulfilled` is a function, 2.2.2.3: it must not be called more than once. when `then` is interleaved with fulfillment:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.2.js:136:21)

  44) 2.2.3: If `onRejected` is a function, 2.2.3.1: it must be called after `promise` is rejected, with `promise`’s rejection reason as its first argument. already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  45) 2.2.3: If `onRejected` is a function, 2.2.3.1: it must be called after `promise` is rejected, with `promise`’s rejection reason as its first argument. immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  46) 2.2.3: If `onRejected` is a function, 2.2.3.1: it must be called after `promise` is rejected, with `promise`’s rejection reason as its first argument. eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  47) 2.2.3: If `onRejected` is a function, 2.2.3.2: it must not be called before `promise` is rejected rejected after a delay:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.3.js:26:21)

  48) 2.2.3: If `onRejected` is a function, 2.2.3.2: it must not be called before `promise` is rejected never rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.3.js:41:21)

  49) 2.2.3: If `onRejected` is a function, 2.2.3.3: it must not be called more than once. already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  50) 2.2.3: If `onRejected` is a function, 2.2.3.3: it must not be called more than once. trying to reject a pending promise more than once, immediately:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.3.js:67:21)

  51) 2.2.3: If `onRejected` is a function, 2.2.3.3: it must not be called more than once. trying to reject a pending promise more than once, delayed:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.3.js:80:21)

  52) 2.2.3: If `onRejected` is a function, 2.2.3.3: it must not be called more than once. trying to reject a pending promise more than once, immediately then delayed:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.3.js:95:21)

  53) 2.2.3: If `onRejected` is a function, 2.2.3.3: it must not be called more than once. when multiple `then` calls are made, spaced apart in time:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.3.js:110:21)

  54) 2.2.3: If `onRejected` is a function, 2.2.3.3: it must not be called more than once. when `then` is interleaved with rejection:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.3.js:136:21)

  55) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. `then` returns before the promise becomes fulfilled or rejected already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.4.js:20:21
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  56) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. `then` returns before the promise becomes fulfilled or rejected immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  57) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. `then` returns before the promise becomes fulfilled or rejected eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  58) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. `then` returns before the promise becomes fulfilled or rejected already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  59) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. `then` returns before the promise becomes fulfilled or rejected immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  60) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. `then` returns before the promise becomes fulfilled or rejected eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  61) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. Clean-stack execution ordering tests (fulfillment case) when `onFulfilled` is added immediately before the promise is fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.4.js:42:21)

  62) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. Clean-stack execution ordering tests (fulfillment case) when `onFulfilled` is added immediately after the promise is fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.4.js:56:21)

  63) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. Clean-stack execution ordering tests (fulfillment case) when one `onFulfilled` is added inside another `onFulfilled`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.4.js:72:21)

  64) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. Clean-stack execution ordering tests (fulfillment case) when `onFulfilled` is added inside an `onRejected`:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  65) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. Clean-stack execution ordering tests (fulfillment case) when the promise is fulfilled asynchronously:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.4.js:96:21)

  66) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. Clean-stack execution ordering tests (rejection case) when `onRejected` is added immediately before the promise is rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.4.js:114:21)

  67) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. Clean-stack execution ordering tests (rejection case) when `onRejected` is added immediately after the promise is rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.4.js:128:21)

  68) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. Clean-stack execution ordering tests (rejection case) when `onRejected` is added inside an `onFulfilled`:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.4.js:145:21)

  69) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. Clean-stack execution ordering tests (rejection case) when one `onRejected` is added inside another `onRejected`:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  70) 2.2.4: `onFulfilled` or `onRejected` must not be called until the execution context stack contains only platform code. Clean-stack execution ordering tests (rejection case) when the promise is rejected asynchronously:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.4.js:168:21)

  71) 2.2.5 `onFulfilled` and `onRejected` must be called as functions (i.e. with no `this` value). strict mode fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.5.js:14:29)

  72) 2.2.5 `onFulfilled` and `onRejected` must be called as functions (i.e. with no `this` value). strict mode rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  73) 2.2.5 `onFulfilled` and `onRejected` must be called as functions (i.e. with no `this` value). sloppy mode fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.5.js:34:29)

  74) 2.2.5 `onFulfilled` and `onRejected` must be called as functions (i.e. with no `this` value). sloppy mode rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  75) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. multiple boring fulfillment handlers already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.6.js:33:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  76) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. multiple boring fulfillment handlers immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  77) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. multiple boring fulfillment handlers eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  78) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. multiple fulfillment handlers, one of which throws already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.6.js:57:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  79) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. multiple fulfillment handlers, one of which throws immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  80) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. multiple fulfillment handlers, one of which throws eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  81) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. results in multiple branching chains with their own fulfillment values already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.6.js:78:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  82) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. results in multiple branching chains with their own fulfillment values immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  83) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. results in multiple branching chains with their own fulfillment values eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  84) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. `onFulfilled` handlers are called in the original order already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.6.js:107:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  85) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. `onFulfilled` handlers are called in the original order immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  86) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. `onFulfilled` handlers are called in the original order eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  87) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. `onFulfilled` handlers are called in the original order even when one handler is added inside another handler already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.6.js:123:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  88) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. `onFulfilled` handlers are called in the original order even when one handler is added inside another handler immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  89) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.1: If/when `promise` is fulfilled, all respective `onFulfilled` callbacks must execute in the order of their originating calls to `then`. `onFulfilled` handlers are called in the original order even when one handler is added inside another handler eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  90) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. multiple boring rejection handlers already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.6.js:150:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  91) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. multiple boring rejection handlers immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  92) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. multiple boring rejection handlers eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  93) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. multiple rejection handlers, one of which throws already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.6.js:174:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  94) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. multiple rejection handlers, one of which throws immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  95) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. multiple rejection handlers, one of which throws eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  96) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. results in multiple branching chains with their own fulfillment values already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.6.js:197:20
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  97) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. results in multiple branching chains with their own fulfillment values immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  98) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. results in multiple branching chains with their own fulfillment values eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  99) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. `onRejected` handlers are called in the original order already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  100) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. `onRejected` handlers are called in the original order immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  101) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. `onRejected` handlers are called in the original order eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  102) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. `onRejected` handlers are called in the original order even when one handler is added inside another handler already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  103) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. `onRejected` handlers are called in the original order even when one handler is added inside another handler immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  104) 2.2.6: `then` may be called multiple times on the same promise. 2.2.6.2: If/when `promise` is rejected, all respective `onRejected` callbacks must execute in the order of their originating calls to `then`. `onRejected` handlers are called in the original order even when one handler is added inside another handler eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  105) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` is a promise:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.2.7.js:17:24)

  106) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `undefined` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  107) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `undefined` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  108) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `undefined` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  109) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `undefined` already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  110) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `undefined` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  111) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `undefined` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  112) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `null` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  113) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `null` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  114) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `null` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  115) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `null` already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  116) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `null` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  117) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `null` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  118) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `false` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  119) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `false` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  120) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `false` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  121) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `false` already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  122) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `false` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  123) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `false` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  124) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `0` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  125) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `0` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  126) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `0` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  127) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `0` already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  128) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `0` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  129) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is `0` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  130) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  131) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  132) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  133) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  134) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  135) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  136) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error without a stack already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  137) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error without a stack immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  138) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error without a stack eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  139) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error without a stack already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  140) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error without a stack immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  141) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an error without a stack eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  142) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a date already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  143) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a date immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  144) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a date eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  145) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a date already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  146) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a date immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  147) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a date eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  148) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an object already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  149) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an object immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  150) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an object eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  151) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an object already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  152) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an object immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  153) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an object eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  154) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an always-pending thenable already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  155) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an always-pending thenable immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  156) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an always-pending thenable eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  157) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an always-pending thenable already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  158) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an always-pending thenable immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  159) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is an always-pending thenable eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  160) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a fulfilled promise already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  161) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a fulfilled promise immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  162) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a fulfilled promise eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  163) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a fulfilled promise already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  164) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a fulfilled promise immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  165) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a fulfilled promise eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  166) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a rejected promise already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:35:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  167) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a rejected promise immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  168) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a rejected promise eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  169) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a rejected promise already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  170) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a rejected promise immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  171) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.2: If either `onFulfilled` or `onRejected` throws an exception `e`, `promise2` must be rejected with `e` as the reason. The reason is a rejected promise eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  172) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `undefined` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:70:30
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  173) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `undefined` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  174) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `undefined` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  175) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `null` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:70:30
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  176) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `null` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  177) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `null` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  178) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `false` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:70:30
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  179) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `false` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  180) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `false` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  181) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `5` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:68:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  182) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `5` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  183) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is `5` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  184) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is an object already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:68:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  185) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is an object immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  186) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is an object eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  187) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is an array containing a function already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.2.7.js:68:45
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  188) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is an array containing a function immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  189) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.3: If `onFulfilled` is not a function and `promise1` is fulfilled, `promise2` must be fulfilled with the same value. `onFulfilled` is an array containing a function eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  190) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `undefined` already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  191) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `undefined` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  192) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `undefined` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  193) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `null` already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  194) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `null` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  195) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `null` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  196) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `false` already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  197) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `false` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  198) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `false` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  199) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `5` already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  200) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `5` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  201) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is `5` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  202) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is an object already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  203) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is an object immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  204) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is an object eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  205) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is an array containing a function already-rejected:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  206) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is an array containing a function immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  207) 2.2.7: `then` must return a promise: `promise2 = promise1.then(onFulfilled, onRejected)` 2.2.7.4: If `onRejected` is not a function and `promise1` is rejected, `promise2` must be rejected with the same reason. `onRejected` is an array containing a function eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  208) 2.3.1: If `promise` and `x` refer to the same object, reject `promise` with a `TypeError' as the reason. via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.1.js:14:39)

  209) 2.3.1: If `promise` and `x` refer to the same object, reject `promise` with a `TypeError' as the reason. via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  210) 2.3.2: If `x` is a promise, adopt its state 2.3.2.1: If `x` is pending, `promise` must remain pending until `x` is fulfilled or rejected. via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.2.js:15:39)

  211) 2.3.2: If `x` is a promise, adopt its state 2.3.2.1: If `x` is pending, `promise` must remain pending until `x` is fulfilled or rejected. via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.2.js:42:21
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.2.js:27:9)

  212) 2.3.2: If `x` is a promise, adopt its state 2.3.2.2: If/when `x` is fulfilled, fulfill `promise` with the same value. `x` is already-fulfilled via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.2.js:15:39)

  213) 2.3.2: If `x` is a promise, adopt its state 2.3.2.2: If/when `x` is fulfilled, fulfill `promise` with the same value. `x` is already-fulfilled via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.2.js:66:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.2.js:27:9)

  214) 2.3.2: If `x` is a promise, adopt its state 2.3.2.2: If/when `x` is fulfilled, fulfill `promise` with the same value. `x` is eventually-fulfilled via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.2.js:15:39)

  215) 2.3.2: If `x` is a promise, adopt its state 2.3.2.2: If/when `x` is fulfilled, fulfill `promise` with the same value. `x` is eventually-fulfilled via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.2.js:85:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.2.js:27:9)

  216) 2.3.2: If `x` is a promise, adopt its state 2.3.2.3: If/when `x` is rejected, reject `promise` with the same reason. `x` is already-rejected via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.2.js:15:39)

  217) 2.3.2: If `x` is a promise, adopt its state 2.3.2.3: If/when `x` is rejected, reject `promise` with the same reason. `x` is already-rejected via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  218) 2.3.2: If `x` is a promise, adopt its state 2.3.2.3: If/when `x` is rejected, reject `promise` with the same reason. `x` is eventually-rejected via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.2.js:15:39)

  219) 2.3.2: If `x` is a promise, adopt its state 2.3.2.3: If/when `x` is rejected, reject `promise` with the same reason. `x` is eventually-rejected via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  220) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.1: Let `then` be `x.then` `x` is an object with null prototype via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  221) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.1: Let `then` be `x.then` `x` is an object with null prototype via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:145:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  222) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.1: Let `then` be `x.then` `x` is an object with normal Object.prototype via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  223) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.1: Let `then` be `x.then` `x` is an object with normal Object.prototype via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:173:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  224) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.1: Let `then` be `x.then` `x` is a function via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  225) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.1: Let `then` be `x.then` `x` is a function via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:203:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  226) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is `undefined` via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  227) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is `undefined` via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  228) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is `null` via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  229) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is `null` via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  230) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is `false` via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  231) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is `false` via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  232) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is `0` via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  233) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is `0` via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  234) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is an error via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  235) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is an error via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  236) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is an error without a stack via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  237) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is an error without a stack via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  238) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is a date via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  239) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is a date via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  240) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is an object via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  241) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is an object via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  242) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is an always-pending thenable via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  243) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is an always-pending thenable via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  244) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is a fulfilled promise via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  245) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is a fulfilled promise via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  246) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is a rejected promise via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  247) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.2: If retrieving the property `x.then` results in a thrown exception `e`, reject `promise` with `e` as the reason. `e` is a rejected promise via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  248) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` Calls with `x` as `this` and two function arguments via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  249) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` Calls with `x` as `this` and two function arguments via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:255:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  250) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` Uses the original value of `then` via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  251) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` Uses the original value of `then` via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:284:25
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  252) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `undefined` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  253) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `undefined` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  254) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `undefined` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  255) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `undefined` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  256) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `null` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  257) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `null` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  258) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `null` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  259) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `null` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  260) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `false` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  261) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `false` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  262) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `false` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  263) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `false` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  264) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `5` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  265) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `5` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  266) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `5` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  267) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is `5` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  268) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is an object `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  269) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is an object `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  270) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is an object `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  271) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is an object `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  272) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is an array `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  273) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is an array `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  274) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is an array `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  275) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is not a thenable `y` is an array `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  276) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  277) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  278) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  279) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  280) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  281) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  282) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  283) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  284) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  285) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  286) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  287) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  288) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  289) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  290) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  291) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  292) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  293) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  294) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  295) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  296) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  297) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  298) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  299) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  300) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  301) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  302) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  303) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  304) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  305) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  306) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  307) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  308) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  309) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  310) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  311) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  312) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  313) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  314) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  315) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  316) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  317) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  318) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  319) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  320) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  321) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  322) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  323) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  324) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an already-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  325) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an already-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  326) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  327) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  328) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  329) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  330) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  331) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable `y` is an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  332) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  333) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  334) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  335) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  336) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  337) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  338) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  339) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  340) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  341) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  342) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  343) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  344) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  345) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  346) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  347) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  348) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  349) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  350) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  351) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  352) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  353) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  354) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  355) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  356) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  357) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  358) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  359) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  360) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  361) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  362) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  363) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  364) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  365) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  366) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  367) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  368) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  369) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  370) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  371) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  372) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  373) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  374) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  375) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  376) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  377) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  378) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  379) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  380) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  381) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  382) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  383) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  384) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  385) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  386) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  387) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled custom thenable for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  388) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  389) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  390) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  391) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  392) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  393) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  394) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  395) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  396) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  397) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  398) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  399) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  400) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  401) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  402) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  403) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  404) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  405) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  406) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  407) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  408) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  409) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  410) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  411) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  412) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  413) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  414) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  415) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  416) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  417) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  418) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  419) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  420) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  421) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  422) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  423) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  424) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  425) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  426) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  427) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  428) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  429) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  430) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  431) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  432) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  433) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  434) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  435) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  436) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  437) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  438) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  439) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  440) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  441) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  442) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  443) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an asynchronously-fulfilled custom thenable for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  444) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  445) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  446) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  447) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  448) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  449) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  450) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  451) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  452) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  453) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  454) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  455) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  456) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  457) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  458) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  459) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  460) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  461) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  462) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  463) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  464) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  465) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  466) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  467) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  468) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  469) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  470) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  471) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  472) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  473) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  474) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  475) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  476) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  477) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  478) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  479) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  480) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  481) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  482) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  483) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  484) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  485) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  486) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  487) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  488) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  489) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  490) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  491) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  492) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  493) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  494) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  495) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  496) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  497) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  498) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  499) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a synchronously-fulfilled one-time thenable for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  500) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  501) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  502) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  503) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  504) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  505) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  506) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  507) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  508) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  509) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  510) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  511) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  512) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  513) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  514) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  515) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  516) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  517) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  518) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  519) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  520) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  521) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  522) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  523) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  524) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  525) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  526) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  527) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  528) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  529) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  530) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  531) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  532) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  533) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  534) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  535) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  536) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  537) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  538) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  539) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  540) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  541) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  542) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  543) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  544) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  545) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  546) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  547) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  548) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  549) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  550) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  551) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  552) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  553) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  554) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  555) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that tries to fulfill twice for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  556) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  557) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  558) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  559) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  560) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  561) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  562) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  563) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  564) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  565) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  566) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  567) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  568) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  569) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  570) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  571) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  572) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  573) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  574) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  575) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  576) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  577) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  578) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  579) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  580) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  581) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  582) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  583) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  584) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  585) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  586) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  587) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  588) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  589) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  590) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  591) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  592) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  593) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  594) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  595) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  596) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  597) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  598) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  599) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  600) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  601) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  602) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  603) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  604) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  605) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  606) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  607) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  608) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  609) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  610) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  611) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is a thenable that fulfills but then throws for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  612) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  613) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  614) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  615) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  616) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  617) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  618) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  619) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  620) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  621) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  622) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  623) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  624) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  625) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  626) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  627) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  628) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  629) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  630) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  631) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  632) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  633) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  634) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  635) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  636) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  637) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  638) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  639) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  640) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  641) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  642) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  643) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  644) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  645) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  646) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  647) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  648) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  649) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  650) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  651) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  652) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  653) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  654) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  655) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  656) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  657) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  658) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  659) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  660) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  661) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  662) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  663) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  664) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  665) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  666) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  667) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an already-fulfilled promise for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  668) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  669) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  670) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  671) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  672) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  673) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  674) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  675) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an asynchronously-fulfilled custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  676) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  677) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  678) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  679) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-fulfilled one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  680) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  681) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that tries to fulfill twice `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  682) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  683) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that tries to fulfill twice `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  684) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  685) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that fulfills but then throws `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  686) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  687) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that fulfills but then throws `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  688) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  689) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an already-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  690) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  691) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an already-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  692) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  693) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an eventually-fulfilled promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  694) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  695) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an eventually-fulfilled promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:97:17
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  696) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  697) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  698) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  699) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  700) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  701) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an asynchronously-rejected custom thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  702) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  703) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an asynchronously-rejected custom thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  704) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  705) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-rejected one-time thenable `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  706) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  707) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a synchronously-rejected one-time thenable `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  708) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  709) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that immediately throws in `then` `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  710) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  711) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for a thenable that immediately throws in `then` `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  712) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  713) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an object with a throwing `then` accessor `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  714) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  715) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an object with a throwing `then` accessor `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  716) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  717) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an already-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  718) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  719) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an already-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  720) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  721) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an eventually-rejected promise `then` calls `resolvePromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  722) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  723) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.1: If/when `resolvePromise` is called with value `y`, run `[[Resolve]](promise, y)` `y` is a thenable for a thenable `y` is an eventually-fulfilled promise for an eventually-rejected promise `then` calls `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  724) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `undefined` `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  725) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `undefined` `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  726) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `undefined` `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  727) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `undefined` `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  728) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `null` `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  729) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `null` `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  730) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `null` `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  731) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `null` `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  732) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `false` `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  733) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `false` `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  734) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `false` `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  735) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `false` `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  736) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `0` `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  737) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `0` `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  738) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `0` `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  739) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is `0` `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  740) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an error `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  741) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an error `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  742) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an error `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  743) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an error `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  744) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an error without a stack `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  745) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an error without a stack `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  746) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an error without a stack `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  747) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an error without a stack `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  748) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a date `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  749) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a date `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  750) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a date `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  751) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a date `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  752) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an object `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  753) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an object `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  754) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an object `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  755) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an object `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  756) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an always-pending thenable `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  757) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an always-pending thenable `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  758) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an always-pending thenable `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  759) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is an always-pending thenable `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  760) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a fulfilled promise `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  761) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a fulfilled promise `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  762) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a fulfilled promise `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  763) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a fulfilled promise `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  764) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a rejected promise `then` calls `rejectPromise` synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  765) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a rejected promise `then` calls `rejectPromise` synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  766) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a rejected promise `then` calls `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  767) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.2: If/when `rejectPromise` is called with reason `r`, reject `promise` with `r` `r` is a rejected promise `then` calls `rejectPromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  768) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` then `rejectPromise`, both synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  769) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` then `rejectPromise`, both synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:371:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  770) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` synchronously then `rejectPromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  771) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` synchronously then `rejectPromise` asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:392:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  772) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` then `rejectPromise`, both asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  773) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` then `rejectPromise`, both asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:415:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  774) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` with an asynchronously-fulfilled promise, then calling `rejectPromise`, both synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  775) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` with an asynchronously-fulfilled promise, then calling `rejectPromise`, both synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:439:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  776) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` with an asynchronously-rejected promise, then calling `rejectPromise`, both synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  777) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` with an asynchronously-rejected promise, then calling `rejectPromise`, both synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  778) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` then `resolvePromise`, both synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  779) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` then `resolvePromise`, both synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  780) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` synchronously then `resolvePromise` asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  781) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` synchronously then `resolvePromise` asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  782) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` then `resolvePromise`, both asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  783) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` then `resolvePromise`, both asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  784) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` twice synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  785) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` twice synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:543:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  786) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` twice, first synchronously then asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  787) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` twice, first synchronously then asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:564:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  788) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` twice, both times asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  789) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` twice, both times asynchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:587:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  790) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` with an asynchronously-fulfilled promise, then calling it again, both times synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  791) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` with an asynchronously-fulfilled promise, then calling it again, both times synchronously via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:611:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  792) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` with an asynchronously-rejected promise, then calling it again, both times synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  793) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `resolvePromise` with an asynchronously-rejected promise, then calling it again, both times synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  794) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` twice synchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  795) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` twice synchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  796) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` twice, first synchronously then asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  797) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` twice, first synchronously then asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  798) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` twice, both times asynchronously via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  799) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. calling `rejectPromise` twice, both times asynchronously via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  800) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. saving and abusing `resolvePromise` and `rejectPromise` via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  801) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.3: If both `resolvePromise` and `rejectPromise` are called, or multiple calls to the same argument are made, the first call takes precedence, and any further calls are ignored. saving and abusing `resolvePromise` and `rejectPromise` via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:725:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  802) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `resolvePromise` was called with a non-thenable via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  803) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `resolvePromise` was called with a non-thenable via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:770:33
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  804) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `resolvePromise` was called with an asynchronously-fulfilled promise via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  805) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `resolvePromise` was called with an asynchronously-fulfilled promise via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:793:33
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  806) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `resolvePromise` was called with an asynchronously-rejected promise via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  807) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `resolvePromise` was called with an asynchronously-rejected promise via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  808) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `rejectPromise` was called via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  809) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `rejectPromise` was called via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  810) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `resolvePromise` then `rejectPromise` were called via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  811) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `resolvePromise` then `rejectPromise` were called via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:853:33
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  812) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `rejectPromise` then `resolvePromise` were called via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  813) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.1: If `resolvePromise` or `rejectPromise` have been called, ignore it. `rejectPromise` then `resolvePromise` were called via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  814) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.2: Otherwise, reject `promise` with `e` as the reason. straightforward case via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  815) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.2: Otherwise, reject `promise` with `e` as the reason. straightforward case via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  816) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.2: Otherwise, reject `promise` with `e` as the reason. `resolvePromise` is called asynchronously before the `throw` via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  817) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.2: Otherwise, reject `promise` with `e` as the reason. `resolvePromise` is called asynchronously before the `throw` via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  818) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.2: Otherwise, reject `promise` with `e` as the reason. `rejectPromise` is called asynchronously before the `throw` via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  819) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.3: If `then` is a function, call it with `x` as `this`, first argument `resolvePromise`, and second argument `rejectPromise` 2.3.3.3.4: If calling `then` throws an exception `e`, 2.3.3.3.4.2: Otherwise, reject `promise` with `e` as the reason. `rejectPromise` is called asynchronously before the `throw` via return from a rejected promise:
     Error: timeout of 200ms exceeded. Ensure the done() callback is being called in this test.
      at listOnTimeout (internal/timers.js:549:17)
      at processTimers (internal/timers.js:492:7)

  820) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.4: If `then` is not a function, fulfill promise with `x` `then` is `5` via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  821) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.4: If `then` is not a function, fulfill promise with `x` `then` is `5` via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:955:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  822) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.4: If `then` is not a function, fulfill promise with `x` `then` is an object via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  823) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.4: If `then` is not a function, fulfill promise with `x` `then` is an object via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:955:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  824) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.4: If `then` is not a function, fulfill promise with `x` `then` is an array containing a function via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  825) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.4: If `then` is not a function, fulfill promise with `x` `then` is an array containing a function via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:955:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  826) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.4: If `then` is not a function, fulfill promise with `x` `then` is a regular expression via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  827) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.4: If `then` is not a function, fulfill promise with `x` `then` is a regular expression via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:955:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  828) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.4: If `then` is not a function, fulfill promise with `x` `then` is an object inheriting from `Function.prototype` via return from a fulfilled promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:19:39)

  829) 2.3.3: Otherwise, if `x` is an object or function, 2.3.3.4: If `then` is not a function, fulfill promise with `x` `then` is an object inheriting from `Function.prototype` via return from a rejected promise:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.3.js:955:29
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/2.3.3.js:31:9)

  830) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `undefined` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:20:41
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  831) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `undefined` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  832) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `undefined` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  833) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `undefined` already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:34:26
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  834) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `undefined` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  835) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `undefined` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  836) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `null` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:20:41
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  837) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `null` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  838) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `null` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  839) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `null` already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:34:26
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  840) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `null` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  841) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `null` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  842) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `false` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:20:41
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  843) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `false` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  844) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `false` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  845) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `false` already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:34:26
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  846) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `false` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  847) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `false` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  848) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:20:41
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  849) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  850) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  851) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:34:26
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  852) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  853) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  854) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `0` already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:20:41
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  855) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `0` immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  856) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `0` eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  857) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `0` already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:34:26
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  858) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `0` immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  859) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `0` eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  860) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` with `Boolean.prototype` modified to have a `then` method already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:20:41
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  861) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` with `Boolean.prototype` modified to have a `then` method immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  862) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` with `Boolean.prototype` modified to have a `then` method eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  863) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` with `Boolean.prototype` modified to have a `then` method already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:34:26
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  864) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` with `Boolean.prototype` modified to have a `then` method immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  865) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `true` with `Boolean.prototype` modified to have a `then` method eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)

  866) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `1` with `Number.prototype` modified to have a `then` method already-fulfilled:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:20:41
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:10:9)

  867) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `1` with `Number.prototype` modified to have a `then` method immediately-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:14:17)

  868) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `1` with `Number.prototype` modified to have a `then` method eventually-fulfilled:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:20:17)

  869) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `1` with `Number.prototype` modified to have a `then` method already-rejected:
     ReferenceError: PROMISE_STATE is not defined
      at _Promise._then [as then] (promise/promise-core.js:75:23)
      at node_modules/promises-aplus-tests/lib/tests/2.3.4.js:34:26
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:30:9)

  870) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `1` with `Number.prototype` modified to have a `then` method immediately-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:34:17)

  871) 2.3.4: If `x` is not an object or function, fulfill `promise` with `x` The value is `1` with `Number.prototype` modified to have a `then` method eventually-rejected:
     TypeError: Cannot read property 'bind' of undefined
      at module.exports.deferred (promise/promise-interface.js:17:34)
      at Context.<anonymous> (node_modules/promises-aplus-tests/lib/tests/helpers/testThreeCases.js:40:17)



